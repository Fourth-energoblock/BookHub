# Исследование пользовательских сценариев

## Определение ключевых пользовательских сценариев

На основе анализа функциональных требований MVP были выделены следующие ключевые пользовательские сценарии:

1. **Регистрация нового пользователя**
2. **Авторизация существующего пользователя**
3. **Поиск книги в каталоге**
4. **Открытие книги для чтения**
5. **Создание аннотации к фрагменту текста**
6. **Просмотр своих аннотаций**
7. **Создание новой коллекции**
8. **Добавление книги в коллекцию**
9. **Просмотр публичных аннотаций других пользователей**

---

## Customer Journey Map

### Таблица сценариев

| Шаг | Регистрация                         | Авторизация    | Поиск книги                  | Открыть книгу           | Создать аннотацию        | Просмотр своих аннотаций             | Создать коллекцию             | Добавить в коллекцию          | Просмотр публичных аннотаций         |
| :-- | :---------------------------------- | :------------- | :--------------------------- | :---------------------- | :----------------------- | :----------------------------------- | :---------------------------- | :---------------------------- | :----------------------------------- |
| 1   | Зайти на сайт                       | Зайти на сайт  | Зайти на сайт                | Зайти на сайт           | Зайти на сайт            | Зайти на сайт                        | Зайти на сайт                 | Зайти на сайт                 | Зайти на сайт                        |
| 2   | Нажать "Регистрация"                | Нажать "Войти" | Авторизоваться               | Авторизоваться          | Авторизоваться           | Авторизоваться                       | Авторизоваться                | Авторизоваться                | Авторизоваться                       |
| 3   | Ввести Email                        | Ввести Email   | Перейти в каталог            | Перейти в каталог       | Перейти в каталог        | Перейти в профиль                    | Перейти в профиль             | Перейти в каталог             | Перейти в каталог                    |
| 4   | Ввести пароль                       | Ввести пароль  | Ввести запрос в поиск        | Найти нужную книгу      | Найти нужную книгу       | Нажать "Мои аннотации"               | Нажать "Мои коллекции"        | Найти нужную книгу            | Найти нужную книгу                   |
| 5   | Подтвердить пароль                  | Нажать "Войти" | Нажать "Поиск"               | Нажать на книгу         | Нажать на книгу          | Выбрать аннотацию для просмотра      | Нажать "Создать коллекцию"    | Нажать на книгу               | Нажать на книгу                      |
| 6   | Принять пользовательское соглашение |                | Выбрать книгу из результатов | Нажать "Читать"         | Нажать "Читать"          | Просмотреть аннотацию                | Ввести название коллекции     | Нажать "Добавить в коллекцию" | Нажать "Читать"                      |
| 7   | Нажать "Зарегистрироваться"         |                | Нажать на книгу              | Открыть нужную страницу | Найти нужный фрагмент    | Нажать "Редактировать" (опционально) | Выбрать обложку (опционально) | Выбрать коллекцию из списка   | Прокрутить до фрагмента с аннотацией |
| 8   | Подтвердить Email (если требуется)  |                | Нажать "Читать"              |                         | Выделить фрагмент текста | Внести изменения                     | Нажать "Создать"              | Подтвердить добавление        | Просмотреть аннотацию                |
| 9   |                                     |                |                              |                         | Нажать "Создать заметку" | Нажать "Сохранить"                   |                               |                               |                                      |
| 10  |                                     |                |                              |                         | Ввести текст заметки     |                                      |                               |                               |                                      |
| 11  |                                     |                |                              |                         | Выбрать уровень доступа  |                                      |                               |                               |                                      |
| 12  |                                     |                |                              |                         | Нажать "Сохранить"       |                                      |                               |                               |                                      |

---

## Анализ количества шагов по сценариям

### Статистика по сценариям

| Сценарий                     | Количество шагов | Категория сложности |
| :--------------------------- | :--------------- | :------------------ |
| Регистрация                  | 8                | Средняя             |
| Авторизация                  | 4                | Простая             |
| Поиск книги                  | 7                | Средняя             |
| Открыть книгу                | 6                | Средняя             |
| Создать аннотацию            | 12               | Сложная             |
| Просмотр своих аннотаций     | 7                | Средняя             |
| Создать коллекцию            | 7                | Средняя             |
| Добавить в коллекцию         | 8                | Средняя             |
| Просмотр публичных аннотаций | 8                | Средняя             |

### Расчет среднего числа шагов

**Среднее арифметическое:** 7.4 шага

**Медиана:** 7 шагов

### Выводы по анализу

- **Самый простой сценарий:** Авторизация (4 шага) — базовый, часто используемый.
- **Самый сложный сценарий:** Создание аннотации (12 шагов) — ключевая функция продукта.
- **Общая оценка:** Среднее число шагов 7.4 — приемлемо для MVP, но есть потенциал для оптимизации, особенно длинных сценариев.

---

## Петли и тупиковые ситуации

### Обнаруженные проблемы

#### Онбординг-петля

**Проблема:** Новый пользователь должен зарегистрироваться, чтобы увидеть ценность продукта. Если нет возможности просмотреть каталог без регистрации, пользователь может уйти.

**Решение:** Реализовать гостевой режим с ограниченным доступом к каталогу и чтению (например, первые 3 страницы книги).

#### Навигационная петля в создании аннотации

**Проблема:** При создании аннотации пользователь должен:

1. Найти книгу в каталоге
2. Открыть книгу
3. Найти нужный фрагмент
4. Выделить текст
5. Создать заметку

Если пользователь не помнит, на какой странице нужный фрагмент, он может застрять в цикле поиска.

**Решение:**

- Добавить закладки для быстрого перехода к важным местам
- Реализовать поиск по тексту внутри книги
- Сохранять последнюю позицию чтения

---

## Варианты оптимизации пользовательских сценариев

### Оптимизация сценария "Создание аннотации"

**Текущий процесс (12 шагов):**

1. Зайти на сайт
2. Авторизоваться
3. Перейти в каталог
4. Найти нужную книгу
5. Нажать на книгу
6. Нажать "Читать"
7. Найти нужный фрагмент
8. Выделить фрагмент текста
9. Нажать "Создать заметку"
10. Ввести текст заметки
11. Выбрать уровень доступа
12. Нажать "Сохранить"

**Оптимизированный процесс (8 шагов):**

1. Зайти на сайт
2. Авторизоваться
3. Открыть книгу из истории чтения / закладок / коллекции
4. Выделить фрагмент текста
5. Ввести текст заметки (появляется inline-редактор)
6. Выбрать уровень доступа (по умолчанию "Приватный")
7. Нажать "Сохранить" (или Enter)
8. Продолжить чтение

**Оптимизации:**

- **Быстрый доступ к книгам:** История чтения, закладки, избранное на главной странице
- **Inline-редактор:** Появляется сразу при выделении текста, без дополнительных кликов
- **Умные значения по умолчанию:** Приватный доступ выбран автоматически
- **Сохранение позиции:** Автоматическое сохранение последней позиции чтения

**Экономия:** 4 шага

---

### Оптимизация сценария "Добавление книги в коллекцию"

**Текущий процесс (8 шагов):**

1. Зайти на сайт
2. Авторизоваться
3. Перейти в каталог
4. Найти нужную книгу
5. Нажать на книгу
6. Нажать "Добавить в коллекцию"
7. Выбрать коллекцию из списка
8. Подтвердить добавление

**Оптимизированный процесс (5 шагов):**

1. Зайти на сайт
2. Авторизоваться
3. Найти книгу (через поиск или в каталоге)
4. Нажать кнопку "Добавить в коллекцию" (на карточке книги)
5. Выбрать коллекцию (выпадающий список без подтверждения)

**Оптимизации:**

- **Кнопка на карточке:** Добавление доступно прямо из списка книг, без открытия детальной страницы
- **Без подтверждения:** Добавление происходит сразу после выбора коллекции
- **Быстрое создание:** Возможность создать новую коллекцию прямо из выпадающего списка

**Экономия:** 3 шага

---

### Оптимизация сценария "Поиск книги"

**Текущий процесс (7 шагов):**

1. Зайти на сайт
2. Авторизоваться
3. Перейти в каталог
4. Ввести запрос в поиск
5. Нажать "Поиск"
6. Выбрать книгу из результатов
7. Нажать на книгу

**Оптимизированный процесс (5 шагов):**

1. Зайти на сайт
2. Авторизоваться
3. Ввести запрос в поиск (на главной странице или в шапке)
4. Выбрать книгу из результатов (автодополнение / выпадающий список)
5. Нажать на книгу (или Enter для перехода к первой книге)

**Оптимизации:**

- **Поиск на главной:** Поисковая строка доступна на главной странице, не нужно переходить в каталог
- **Автодополнение:** Результаты появляются при вводе, без нажатия кнопки "Поиск"
- **Быстрый переход:** Enter или клик сразу открывает книгу

**Экономия:** 2 шага

---

### Общие оптимизации для всех сценариев

#### Сохранение состояния сессии

- **Проблема:** Пользователь должен авторизовываться при каждом входе
- **Решение:** Сохранение сессии, автоматическая авторизация
- **Экономия:** 1-2 шага для повторных визитов

#### Умная главная страница

- **Проблема:** Главная страница не предоставляет быстрого доступа к часто используемым функциям
- **Решение:**
  - История чтения (последние 5 книг)
  - Рекомендации на основе активности
  - Быстрый поиск
  - Последние аннотации
- **Экономия:** 2-3 шага для частых действий
